"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react");function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var r=t(e);const a=()=>{},n=e=>e.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),o=t=>function(o){const{precision:l,decimalSeparator:u=".",thousandSeparator:c="",onValueChange:s=a,onChange:i=a,onBlur:p=a,...d}=o;if(c===u)throw new Error(`\n      Thousand separator cannot be same with decimal separator.\n      Thousand separator: '${c}'\n      Decimal separator: '${u}'\n    `);const[g,f]=e.useState("");e.useEffect((()=>{const{formattedValue:e}=b(o.value,"change");f(e)}),[o.value,c,u,l]);const m=e.useMemo((()=>new RegExp(`[0-9${n(u)}]`)),[u]),b=(e,t)=>{"number"==typeof e&&(e=e.toString().replace(".",u));const r=((e,t)=>{const r=new RegExp(`[^0-9${n(t)}]|^${n(t)}$`,"g");return(e?.toString().replace(r,"")||"").replace(new RegExp(`${n(t)}`,"g"),(a=0,e=>a++?"":e));var a})(e,u),a=((e,t,r,a,n)=>{const o=e.includes(r);let[l,u]=e.split(r);l=((e,t)=>e.replace(/\B(?=(\d{3})+(?!\d))/g,t))(l,t),u&&void 0!==n&&(u=u.substring(0,n));let c=l;return(void 0===n||n>0)&&("change"===a&&(c+=o?r+u:""),"blur"===a&&(c+=u?r+u:"")),c})(r,c,u,t,l),o=(e=>[null,void 0,""].includes(e))(r)?NaN:((e,t=15)=>+parseFloat(Number(e).toPrecision(t)))(a.replaceAll(c,"").replace(u,"."));return{numberValueStr:r,formattedValue:a,numberValue:o}},h=(e,t)=>{const{value:r,selectionStart:a}=e.target,{formattedValue:n,numberValue:o}=b(r,t),l=((e,t,r,a,n)=>{let o=r-1;for(t[o]===a&&(o-=1);!n.test(t[o])&&o>1;)o--;const l=t[o];let u=0;for(let e=0;e<o;e++)t[e]===l&&u++;let c=0;for(let t=0;t<e.length;t++)if(e[t]===l){if(c===u){r=t+1;break}c++}return r})(n,r,a,c,m);e.target.value=n,e.target.setSelectionRange(l,l),f(n),s({formattedValue:n,numberValue:o})};return r.default.createElement(t,{...d,value:g,onChange:e=>{h(e,"change"),i(e)},onBlur:e=>{h(e,"blur"),p(e)}})},l=o("input");exports.SeparatorInput=l,exports.withSeparator=o;
//# sourceMappingURL=index.cjs.js.map
